name: elementary
label: Elementary
domain_url: https://docs.elementary-data.com/introduction
namespace: elementary
pip_url: elementary-data[bigquery]
maintenance_status: active
repo: https://github.com/elementary-data/elementary
executable: edr
logo_url: /assets/logos/files/elementary.png
variant: elementary
settings:
- name: profiles-dir
  description: Profiles directory path for your meltano project
  kind: string
  value: ${MELTANO_PROJECT_ROOT}/transform/profiles/bigquery/
- name: file-path
  description: Location of the file generated by the `monitor-report` commands
  kind: string
  value: ${MELTANO_PROJECT_ROOT}/utilities/elementary/report.html
- name: slack-token
  description: If necessary, slack token for sending notifications to slack
  kind: password
- name: slack-channel-name
  description: If necessary, slack channel name in which to send notifications to
  kind: string
  value: elementary-notifs
commands:
  monitor:
    description: Allows your to run monitoring with elementary
    args: monitor --profiles-dir ${ELEMENTARY_PROFILES_DIR}
  monitor-report:
    description: Allows your to create a local report
    args: monitor report
          --profiles-dir ${ELEMENTARY_PROFILES_DIR}
          --file-path ${ELEMENTARY_FILE_PATH}
  monitor-send-report:
    description: Allows your to send a report through slack
    args: monitor send-report
          --profiles-dir ${ELEMENTARY_PROFILES_DIR}
          --slack-token ${ELEMENTARY_SLACK_TOKEN}
          --slack-channel-name ${ELEMENTARY_SLACK_CHANNEL_NAME}
keywords:
- DBT
- Testing

requires:
  files:
  - name: files-elementary
    variant: potloc

definition: Automate test report generation and anomaly detection through elementary
next_steps: |

  1. Run dbt deps

  This will populate you `dbt_packages` folder with pertinent dbt models


  2. Follow elementary setup tutorial

  The setup tutorial is quite straightforward. You'll need to make changes to 2 files:
    - `dbt_project.yml` -> Add elementary schema
    - `profiles.yml` -> Add elementary profile

  3. Test away!

  Run `meltano invoke elementary:monitor-report` and see your brand new report!
