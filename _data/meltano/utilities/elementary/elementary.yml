name: elementary
label: Elementary
domain_url: https://docs.elementary-data.com/introduction
namespace: elementary
pip_url: elementary-data git+https://github.com/potloc/elementary-ext.git
maintenance_status: active
repo: https://github.com/elementary-data/elementary
executable: edr
logo_url: /assets/logos/utilities/elementary.png
variant: elementary
description: Elementary is an open-source data observability solution for data & analytics engineers.
ext_repo: https://github.com/potloc/elementary-ext
settings:
- name: profiles-dir
  label: Profiles Directory
  description: Profiles directory path for your dbt project
  kind: string
  placeholder: ${MELTANO_PROJECT_ROOT}/transform/profiles/bigquery
- name: project_dir
  label: Project Directory
  description: Project directory path for your dbt project
  kind: string
  value: ${MELTANO_PROJECT_ROOT}/transform/
- name: file-path
  label: File Path
  description: Location of the file generated by the `monitor-report` commands
  kind: string
  placeholder: ${MELTANO_PROJECT_ROOT}/utilities/elementary/report.html
- name: slack-token
  label: Slack Token
  description: If necessary, slack token for sending notifications to slack
  kind: password
- name: slack-channel-name
  label: Slack Channel Name
  description: If necessary, slack channel name in which to send notifications to
  kind: string
  value: elementary-notifs
commands:
  monitor-report:
    args: monitor-report
    description: Allows you to generate a report and sent to to your file path
    executable: elementary_extension
  monitor-send-report:
    args: monitor-send-report
    description: Allows you to generate a report and send it through slack
    executable: elementary_extension
  initialize:
    args: initialize
    description: |
      Allows you to initialize your elementary extension.

      NOTE: This has only be setup with bigquery for informational purposes. You should not
      use this feature if
       1) You are not using the bigquery dbt extension
       2) You already have DBT setup in your project
    executable: elementary_extension
  describe:
    args: describe
    executable: elementary_extension

keywords:
- dbt
- testing

definition: |
  Automate test report generation and anomaly detection through elementary

  - This is a work in progress; any feedback on issues is hugely appreciated!
  - When upgrading elementary, make sure you update the dbt_packages entry version as well

next_steps: |

  "NOTE:"
  This a DBT extension, and therefore requires knowledge and understanding of DBT before adding to your project.
  Please install one of the available DBT extensions from the [hub](https://hub.meltano.com/utilities/) before proceeding with the rest of the setup

  1. Specify your dbt adapter in the pip_url and in your profiles directory
  "Example, in the case of BigQuery:"
    ```
    pip_url: elementary-data[bigquery] git+https://github.com/potloc/elementary-ext.git
    config:
      profiles_dir: ${MELTANO_PROJECT_ROOT}/transform/profiles/
    ```

  "**1. Run dbt deps**"

  This will populate you `dbt_packages` folder with pertinent dbt models

  It is important to note that you will need to update your dbt packages file when you update your
  your elementary pip url. These 2 different packages **Should have the same version**


  "**2. Follow elementary setup tutorial**"

  Tutorial found here: https://docs.elementary-data.com/quickstart

  "**3. Test away!**"

  Run `meltano invoke elementary:monitor-report` and see your brand new report!

